#*** Main Policy for nmeta - Payload Regression of HTTP URI Classification
#*** Written in YAML
#
tc_policies:
    # Traffic Classification Policies:
    'Basic TC Use Case':
        comment: Basic TC Use Case
        rule_set: tc_ruleset_1
        port_set: all_access_ports
        mode: active
#
tc_rules:
    # Traffic Classification Rulesets and Rules
    tc_ruleset_1:
        - comment: Constrained Bandwidth Traffic (Payload)
          match_type: any
          conditions_list:
              - match_type: any
                payload: 'payload_uri_1'
          actions:
            set_qos: classifier_return
            set_desc: description="Payload TC Control of Traffic QoS Treatment"
#
identity:
    # Control how identity information is collected
    # This is a 1 for on and 0 for off but will later tie to set of
    # ports on which to run it
    #
    # Turn this on to collect ARP MAC address to IPv4 address mappings:
    arp: 1
    #
    # Turn this on to collect Link Layer Discovery Protocol information:
    lldp: 1
    #
    # Turn this on to collect DNS reply data matching services to IP addresses:
    dns: 1
    #
    # Turn this on to collect DHCP information about address allocations and
    # hostnames:
    dhcp: 1
#
qos_treatment:
    # Control Quality of Service (QoS) treatment mapping of
    #  names to output queue numbers:
    default_priority: 0
    constrained_bw: 1
    high_priority: 2
    low_priority: 3
#
port_sets:
    # Port Sets control what data plane ports policies and
    #  features are applied on:
    all_access_ports:
        - 'Switch 1':
            DPID: 8796748549206
            ports: 1-5
